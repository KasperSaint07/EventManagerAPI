<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EventManager ‚Äî –ê—Ñ–∏—à–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <!-- ===================== HEADER ===================== -->
  <header class="header">
    <div class="container header__inner">
      <a href="#" class="logo" onclick="navigateTo('home')">
        <span class="logo__icon">üé´</span>
        <span class="logo__text">Event<span class="logo__accent">Manager</span></span>
      </a>
      <nav class="nav">
        <a href="#" class="nav__link active" onclick="navigateTo('home')" id="nav-home">–ê—Ñ–∏—à–∞</a>
        <div id="nav-auth">
          <a href="#" class="nav__link" onclick="navigateTo('login')" id="nav-login">–í–æ–π—Ç–∏</a>
        </div>
      </nav>
    </div>
  </header>

  <!-- ===================== MAIN CONTENT ===================== -->
  <main class="main">

    <!-- HOME PAGE ‚Äî Event list -->
    <section id="page-home" class="page active">
      <div class="hero">
        <div class="container">
          <h1 class="hero__title">–ù–∞–π–¥–∏ —Å–≤–æ—ë –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ</h1>
          <p class="hero__subtitle">–ö–æ–Ω—Ü–µ—Ä—Ç—ã, –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏, –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ</p>
          <div class="search-bar">
            <input type="text" id="search-input" class="search-bar__input" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ –≥–æ—Ä–æ–¥—É...">
            <button class="search-bar__btn" onclick="searchEvents()">–ù–∞–π—Ç–∏</button>
          </div>
        </div>
      </div>
      <div class="container">
        <div class="section-header">
          <h2 class="section-title">–ë–ª–∏–∂–∞–π—à–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</h2>
          <div class="filter-bar">
            <select id="filter-city" class="filter-select" onchange="filterEvents()">
              <option value="">–í—Å–µ –≥–æ—Ä–æ–¥–∞</option>
            </select>
          </div>
        </div>
        <div id="events-grid" class="events-grid">
          <div class="loader">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        </div>
        <div id="pagination" class="pagination"></div>
      </div>
    </section>

    <!-- EVENT DETAIL PAGE -->
    <section id="page-event" class="page">
      <div class="container">
        <button class="back-btn" onclick="navigateTo('home')">&larr; –ù–∞–∑–∞–¥ –∫ –∞—Ñ–∏—à–µ</button>
        <div id="event-detail" class="event-detail">
          <div class="loader">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        </div>
      </div>
    </section>

    <!-- LOGIN PAGE -->
    <section id="page-login" class="page">
      <div class="container auth-container">
        <div class="auth-card">
          <h2 class="auth-card__title">–í—Ö–æ–¥</h2>
          <form id="login-form" onsubmit="handleLogin(event)">
            <div class="form-group">
              <label class="form-label">Email</label>
              <input type="email" id="login-email" class="form-input" placeholder="example@mail.com" required>
            </div>
            <div class="form-group">
              <label class="form-label">–ü–∞—Ä–æ–ª—å</label>
              <input type="password" id="login-password" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
            </div>
            <div id="login-error" class="form-error"></div>
            <button type="submit" class="btn btn--primary btn--full">–í–æ–π—Ç–∏</button>
          </form>
          <p class="auth-switch">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" onclick="navigateTo('register')">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å</a></p>
        </div>
      </div>
    </section>

    <!-- REGISTER PAGE -->
    <section id="page-register" class="page">
      <div class="container auth-container">
        <div class="auth-card">
          <h2 class="auth-card__title">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
          <form id="register-form" onsubmit="handleRegister(event)">
            <div class="form-group">
              <label class="form-label">Email</label>
              <input type="email" id="register-email" class="form-input" placeholder="example@mail.com" required>
            </div>
            <div class="form-group">
              <label class="form-label">–ü–∞—Ä–æ–ª—å</label>
              <input type="password" id="register-password" class="form-input" placeholder="–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤" required minlength="6">
            </div>
            <div class="form-group">
              <label class="form-label">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
              <input type="password" id="register-confirm" class="form-input" placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
            </div>
            <div id="register-error" class="form-error"></div>
            <button type="submit" class="btn btn--primary btn--full">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
          </form>
          <p class="auth-switch">–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="#" onclick="navigateTo('login')">–í–æ–π—Ç–∏</a></p>
        </div>
      </div>
    </section>

    <!-- PROFILE PAGE -->
    <section id="page-profile" class="page">
      <div class="container">
        <div class="profile">
          <div class="profile__header">
            <div class="profile__avatar">üë§</div>
            <div class="profile__info">
              <h2 id="profile-email" class="profile__email">‚Äî</h2>
              <span id="profile-role" class="profile__role badge">user</span>
              <p id="profile-date" class="profile__date"></p>
            </div>
            <div class="profile__actions">
              <button class="btn btn--outline" onclick="handleLogout()">–í—ã–π—Ç–∏</button>
            </div>
          </div>

          <!-- Organizer request banner (for regular users) -->
          <div id="organizer-request-banner" class="organizer-banner" style="display:none">
            <div class="organizer-banner__content">
              <div class="organizer-banner__icon">üé§</div>
              <div class="organizer-banner__text">
                <h3>–•–æ—Ç–∏—Ç–µ –ø—Ä–æ–≤–æ–¥–∏—Ç—å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è?</h3>
                <p>–ü–æ–¥–∞–π—Ç–µ –∑–∞—è–≤–∫—É –Ω–∞ —Ä–æ–ª—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞ ‚Äî –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç –µ—ë</p>
              </div>
              <button class="btn btn--accent" id="request-organizer-btn" onclick="requestOrganizerRole()">–°—Ç–∞—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º</button>
            </div>
          </div>

          <!-- Stats -->
          <div class="profile__stats" id="profile-stats">
            <div class="stat-card">
              <div class="stat-card__number" id="stat-registrations">0</div>
              <div class="stat-card__label">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π</div>
            </div>
            <div class="stat-card">
              <div class="stat-card__number" id="stat-upcoming">0</div>
              <div class="stat-card__label">–ü—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö</div>
            </div>
            <div class="stat-card">
              <div class="stat-card__number" id="stat-past">0</div>
              <div class="stat-card__label">–ü–æ—Å–µ—â—ë–Ω–Ω—ã—Ö</div>
            </div>
          </div>

          <div class="profile__section">
            <h3 class="profile__section-title">–ú–æ–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</h3>
            <div id="my-registrations" class="events-grid">
              <div class="loader">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CREATE EVENT PAGE (organizer / super_admin) -->
    <section id="page-create-event" class="page">
      <div class="container">
        <button class="back-btn" onclick="navigateTo('profile')">&larr; –ù–∞–∑–∞–¥ –≤ –ø—Ä–æ—Ñ–∏–ª—å</button>
        <div class="auth-card" style="max-width:600px;margin:0 auto">
          <h2 class="auth-card__title">–°–æ–∑–¥–∞—Ç—å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ</h2>
          <form id="create-event-form" onsubmit="handleCreateEvent(event)">
            <div class="form-group">
              <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
              <input type="text" id="event-title" class="form-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è" required>
            </div>
            <div class="form-group">
              <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label>
              <textarea id="event-description" class="form-input form-textarea" placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ..." required rows="4"></textarea>
            </div>
            <div class="form-row">
              <div class="form-group form-group--half">
                <label class="form-label">–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è</label>
                <input type="datetime-local" id="event-datetime" class="form-input" required>
              </div>
              <div class="form-group form-group--half">
                <label class="form-label">–í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</label>
                <input type="number" id="event-capacity" class="form-input" placeholder="100" min="1" required>
              </div>
            </div>
            <div class="form-row">
              <div class="form-group form-group--half">
                <label class="form-label">–ì–æ—Ä–æ–¥</label>
                <input type="text" id="event-city" class="form-input" placeholder="–ê–ª–º–∞—Ç—ã" required>
              </div>
              <div class="form-group form-group--half">
                <label class="form-label">–ê–¥—Ä–µ—Å</label>
                <input type="text" id="event-address" class="form-input" placeholder="—É–ª. –ê–±–∞—è 100" required>
              </div>
            </div>
            <div id="create-event-error" class="form-error"></div>
            <button type="submit" class="btn btn--primary btn--full">–°–æ–∑–¥–∞—Ç—å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ</button>
          </form>
        </div>
      </div>
    </section>

    <!-- ADMIN PANEL PAGE (super_admin only) -->
    <section id="page-admin" class="page">
      <div class="container">
        <div class="admin-panel">
          <h2 class="admin-panel__title">–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h2>

          <div class="admin-tabs">
            <button class="admin-tab active" onclick="switchAdminTab('requests')" id="tab-requests">–ó–∞—è–≤–∫–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–≤</button>
            <button class="admin-tab" onclick="switchAdminTab('users')" id="tab-users">–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</button>
          </div>

          <div id="admin-content" class="admin-content">
            <div class="loader">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
          </div>
        </div>
      </div>
    </section>

  </main>

  <!-- ===================== FOOTER ===================== -->
  <footer class="footer">
    <div class="container footer__inner">
      <p>&copy; 2026 EventManager. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
    </div>
  </footer>

  <!-- ===================== TOAST NOTIFICATIONS ===================== -->
  <div id="toast-container" class="toast-container"></div>

  <script src="app.js"></script>
</body>
</html>
